<% @page_title = "Sign up - eXtension" %>

<div class="page-header">
  <h2>eXension Sign Up <a name="signup_top"></a></h2>
</div>



<div class="row">
      <div id="signup_help">
        <h4>Registration Help</h4>
        <p><%= link_to 'I forgot my password', :controller => 'people/account', :action => 'new_password' %></p>
        <p>Already registered? <%= link_to 'Sign-in', :controller => 'people/account', :action => 'login' %></p>
    </div>

  <div class="span4">


    <%= form_for(@person) do |f| -%>
    
      <p><span class="help-block">Fields marked with an asterisk (<em class="required">*</em>) are required</span></p>

      <%- if(!@invitation.nil?) -%>
        <%= hidden_field_tag('invite',@invitation.token) %>
      <%- end -%>

      <fieldset>
        <label for="person_first_name">First Name: <em class="required">*</em></label>
        <%= f.text_field(:first_name) %>
        
        <label for="person_last_name">Last Name: <em class="required">*</em></label>
        <%= f.text_field(:last_name) %>

        <label for="person_email">Email Address: <em class="required">*</em></label>
        <%= f.text_field(:email) %>
        <span class="help-block">Using a .edu or .gov email address if you have one will speed up account review.</span>

        <label for="person_password">Password <em class="required">*</em></label>
        <%= f.password_field(:password), :value => '' %>
        <span class="help-block">minimum six characters</span>

        <label for="person_phonenumber">Preferred Phone Number:</label>
        <%= f.text_field(:phonenumber, {:value => number_to_phone(@person.phonenumber,:area_code => true)}) %>

        <label for="person_title">Title:</label>
        <%= f.text_field(:title) %>

        <label for="person_time_zone">Time zone:</label>
        <%= f.time_zone_select(:time_zone, ActiveSupport::TimeZone.us_zones, :default => "Eastern Time (US & Canada)") %>
      </fieldset>

      <fieldset>
        <legend>Your Connection to Extension</legend>
        <label>Please list someone in Extension with whom you have a connection, and tell us how you would like to be involved with eXtension.<em class="required">*</em></label>
        <%= text_area_tag(:signup_affiliation, params[:signup_affiliation], :rows => 3) %>
      </fieldset>


      <fieldset>
        <legend>Your Location</legend>
        <label>Please list someone in Extension with whom you have a connection, and tell us how you would like to be involved with eXtension.<em class="required">*</em></label>
        <%= text_area_tag(:signup_affiliation, params[:signup_affiliation], :rows => 3) %>
      </fieldset>

    <%- end # end form -%> 

  </div>




</div>






<% @page_title = "Sign Up" %>

<% form_tag({:action=> "create"},{:name=>"signupform"}) do %>

    
    <h1>eXtensionID Registration <a name="reg_top"></a></h1>
    
    <div id="signup_help">
        <h4>Registration Help</h4>
        <p><%= link_to 'I forgot my password', :controller => 'people/account', :action => 'new_password' %></p>
        <p>Already registered? <%= link_to 'Sign-in', :controller => 'people/account', :action => 'login' %></p>
    </div>
        

    <div id="reg_form_directions">

      <%= render(:partial => "partial/flashmessages") %>

    

      <div class="form_section">
          <fieldset>  


        </div>
        
        <div class="form_section">
        <h3>Your Connection</h3>

        <p>

        <p>
        
        </div>
        
        <div class="form_section">
        <h3>Location</h3>
          <div id="location">
            <p>
                <label for="person_location_id">Location:</label>
            <%= select(:person, :location_id, @locations.map {|loc| [loc.name,loc.id]}, :include_blank => true) %>
            <%= observe_field(:person_location_id,
                              :url       => { :controller => '/people/signup', :action => :xhr_county_and_institution },
                              :with      => "'location='+value") %>
            </p>
          </div>
          <div id="county">
            <% if !@countylist.nil? %>
              <%= render(:partial => 'people/signup/county', :locals => {:countylist => @countylist}) %>
            <% end %>
          </div>
        </div>

        <div class="form_section">
        <h3>Your Institution/Affiliation</h3>
          <div id="institution">
            <% if !@institutionlist.nil? %>
              <%= render(:partial => 'people/signup/institutionlist', :locals => {:countylist => @institutionlist}) %>

                <% else %>
                <p><em>select a location to show institutions for that location</em></p>
            <% end %>
          </div>
            <p><em>Don't see your institution listed? Need to add more information? Use the field below to let others know more about your affiliation</em></p>
<p><label for="person_affiliation">Other/Additional Affiliation</label>
<%= text_field "person", "affiliation", :class => "medsize" %>
</p>

        </div>

        <div class="form_section">
           <%= render(:partial => 'people/signup/profile_position', :locals => { :positionslist => Position.geteditlist}) %>
        </div>


        <div class="form_section">
        <h3>Announcements</h3>
          <div id="announcements">
              <p>
                  <label>
                      <%= check_box(:person,:announcements) %>Subscribe me to the eXtension.org "announcements" mailing list.
                  </label>
              </p>
          </div>
        </div>
    
        <p><%= submit_tag 'Submit Registration' %></p>
    </div>
    
<% end %>